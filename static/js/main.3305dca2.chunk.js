(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{101:function(e,t,n){e.exports={profileDescription:"ProfileInfo_profileDescription__1ViSc",statusDiv:"ProfileInfo_statusDiv__14SC_"}},105:function(e,t,n){"use strict";function r(e){var t,n=null===(t=e.typography.fontFamily)||void 0===t?void 0:t.split(",");return null===n||void 0===n||n.splice(1,0,"Twemoji Mozilla"),null===n||void 0===n?void 0:n.join(",")}n.d(t,"a",(function(){return r}))},115:function(e,t,n){e.exports={preloaderWrapper:"Preloader_preloaderWrapper__1-vJZ",preloader:"Preloader_preloader__1fZTW"}},116:function(e,t,n){e.exports={headerLogo:"AppHeader_headerLogo__1q3ko",loginLink:"AppHeader_loginLink__1Epif"}},120:function(e,t,n){"use strict";var r=n(0),a=n.n(r),c=n(78),i=n(188),s=n(183),o=n(242),u=n(238),l=n(241),d=n(184),f=n(186),p=n(37),b=n(16),j=n(105),O=n(2);t.a=function(e){var t=Object(d.a)((function(t){return Object(f.a)({postsItem:{padding:0,justifyContent:e.rightSided?"end":"start"},postWrapper:{display:"flex",margin:t.spacing(1),width:e.blockWidth||"max-content",padding:t.spacing(1,2)},text:{whiteSpace:"pre-line",overflowWrap:"break-word",display:"flex",justifyContent:"center",flexDirection:"column","& > p > span":{fontFamily:Object(j.a)(t)}}})}))(),n=e.avatar||c.a,r=[Object(O.jsx)(a.a.Fragment,{children:e.action},e.postId)],h=Object(O.jsx)(p.c,{to:"/".concat(Object(b.b)(b.c.dialogs.id),"/").concat(e.userId),children:e.userName});return Object(O.jsx)(s.a,{alignItems:"flex-start",className:t.postsItem,children:Object(O.jsxs)(l.a,{variant:"outlined",className:t.postWrapper,children:[Object(O.jsx)(o.a,{children:e.userId?Object(O.jsx)(p.c,{to:"/".concat(Object(b.b)(b.c.profile.id),"/").concat(e.userId),children:Object(O.jsx)(i.a,{alt:"ava",src:n})}):Object(O.jsx)(i.a,{alt:"ava",src:n})}),Object(O.jsx)(u.a,{className:t.text,primary:e.primaryLink?h:e.userName,secondary:r})]})})}},123:function(e,t,n){"use strict";n.d(t,"c",(function(){return m})),n.d(t,"b",(function(){return v})),n.d(t,"d",(function(){return S}));var r=n(10),a=n.n(r),c=n(18),i=n(48),s=n(6),o=n(26),u={users:[],currentPage:0,pageSize:12,isUsersFetching:!1,followingInProgress:[],filter:{searchTerm:null,friend:null}};function l(e,t,n){return e.id===t?Object(s.a)(Object(s.a)({},e),{},{followed:n}):e}var d=function(e){return{type:"SN/USERS/FOLLOW",userId:e}},f=function(e){return{type:"SN/USERS/UNFOLLOW",userId:e}},p=function(){return{type:"SN/USERS/ZERO_NEXT_PAGE"}},b=function(e){return{type:"SN/USERS/SET_SEARCH_TERM",filter:e}},j=function(e){return{type:"SN/USERS/SET_USERS",users:e}},O=function(){return{type:"SN/USERS/NEXT_PAGE"}},h=function(e){return{type:"SN/USERS/UPDATE_IS_USERS_FETCHING",isUsersFetching:e}},g=function(e,t){return{type:"SN/USERS/UPDATE_IS_FOLLOWING_FETCHING",isFetching:e,userId:t}},m=function(e,t,n){return function(){var r=Object(c.a)(a.a.mark((function r(c,i){var s;return a.a.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return c(h(!0)),n!==i().usersPage.filter&&(c(b(n)),c(p())),r.next=4,o.a.Users.getUsers(e,t,n);case 4:if(s=r.sent,c(h(!1)),null!==s){r.next=8;break}return r.abrupt("return");case 8:c(j(s.items)),c(O());case 10:case"end":return r.stop()}}),r)})));return function(e,t){return r.apply(this,arguments)}}()},x=function(){var e=Object(c.a)(a.a.mark((function e(t,n,r,c){return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n(g(!0,t)),e.next=3,r(t);case 3:e.sent&&n(c(t)),n(g(!1,t));case 6:case"end":return e.stop()}}),e)})));return function(t,n,r,a){return e.apply(this,arguments)}}(),v=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e,n,o.a.Users.follow,d);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},S=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x(e,n,o.a.Users.unfollow,f);case 2:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/USERS/FOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return l(e,t.userId,!0)}))});case"SN/USERS/UNFOLLOW":return Object(s.a)(Object(s.a)({},e),{},{users:e.users.map((function(e){return l(e,t.userId,!1)}))});case"SN/USERS/ZERO_NEXT_PAGE":return Object(s.a)(Object(s.a)({},e),{},{currentPage:0});case"SN/USERS/SET_SEARCH_TERM":return Object(s.a)(Object(s.a)({},e),{},{filter:Object(s.a)({},t.filter),users:[]});case"SN/USERS/SET_USERS":return Object(s.a)(Object(s.a)({},e),{},{users:[].concat(Object(i.a)(e.users),Object(i.a)(t.users))});case"SN/USERS/NEXT_PAGE":return Object(s.a)(Object(s.a)({},e),{},{currentPage:++e.currentPage});case"SN/USERS/UPDATE_IS_USERS_FETCHING":return Object(s.a)(Object(s.a)({},e),{},{isUsersFetching:t.isUsersFetching});case"SN/USERS/UPDATE_IS_FOLLOWING_FETCHING":return Object(s.a)(Object(s.a)({},e),{},{followingInProgress:t.isFetching?[].concat(Object(i.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}}},124:function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n(0),a=n.n(r),c=n(47),i=n(19),s=n(25),o=n(291),u=n(297),l=n(184),d=n(186),f=n(15),p=n(40),b=n(290),j=n(171),O=n.n(j),h=n(288),g=(n(233),n(178)),m=n(2),x=function(e){var t=a.a.useState(null),n=Object(p.a)(t,2),r=n[0],c=n[1],i=Boolean(r);return Object(m.jsxs)(a.a.Fragment,{children:[Object(m.jsx)(b.a,{onClick:function(e){c(e.currentTarget)},children:Object(m.jsx)(O.a,{})}),Object(m.jsx)(h.a,{anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"bottom",horizontal:"left"},open:i,anchorEl:r,onClose:function(){c(null)},children:Object(m.jsx)(g.a,{onSelect:e.onEmojiClick,set:"apple"})})]})},v=function(e){var t=Object(s.b)(e.minTextLength),n=e.maxTextLength?Object(s.a)(e.maxTextLength):void 0,r=[s.c,t];void 0!==n&&r.push(n);var a=Object(l.a)((function(t){return Object(d.a)({newPostForm:{display:"flex",flexDirection:"column",maxWidth:e.blockWidth||"inherit","& > div":{display:"flex",margin:t.spacing(1)}},newPostFormInputWrapper:{display:"flex","& > div":{display:"flex",flexGrow:1,margin:t.spacing(1)}},stretched:{flexGrow:1}})})),p=Object(f.c)(),b=a();var j=Object(c.d)({initialValues:{newMessage:""},onSubmit:function(t,n){var r=n.setSubmitting,a=n.resetForm;p(e.sendMessage(t.newMessage)),r(!1),a()}});return Object(m.jsxs)("form",{onSubmit:j.handleSubmit,className:b.newPostForm,children:[Object(m.jsxs)("div",{className:b.newPostFormInputWrapper,children:[Object(m.jsx)(c.c,{value:j,children:Object(m.jsx)(u.a,{title:"You can type multiline. Just hit enter.","aria-label":"Hint",placement:"right",arrow:!0,children:Object(i.c)(b.stretched,"Type something","newMessage",i.b,Object(s.d)(r),{multiline:!0})})}),Object(m.jsx)(x,{onEmojiClick:function(e){j.setFieldValue("newMessage",j.values.newMessage+e.native)}})]}),Object(m.jsx)("div",{children:Object(m.jsx)(o.a,{variant:"contained",color:"primary",type:"submit",disabled:!!e.isBlocked||j.isSubmitting||!j.dirty||!j.isValid,children:e.buttonText})})]})}},125:function(e,t,n){"use strict";n.d(t,"a",(function(){return S}));n(0);var r=n(90),a=n.n(r),c=n(107),i=n(174),s=n.n(i),o=n(175),u=n.n(o),l=n(15),d=n(43),f=n(297),p=n(172),b=n.n(p),j=n(173),O=n.n(j),h=n(184),g=n(186),m=n(2),x=Object(h.a)((function(e){return Object(g.a)({likeWrapper:{display:"flex","& > *":{margin:e.spacing(1)}}})})),v=function(e){var t="small",n=Object(l.c)(),r=x();return Object(m.jsxs)("span",{onClick:function(e){var t=e.currentTarget.id.substr(5);t&&n(d.d.addLike(t))},id:"post-"+e.postId,className:r.likeWrapper,children:[Object(m.jsx)(f.a,{arrow:!0,title:"Like","aria-label":"like",children:e.likeCount?Object(m.jsx)(b.a,{fontSize:t}):Object(m.jsx)(O.a,{fontSize:t})}),Object(m.jsx)("span",{children:e.likeCount})]})},S={onlyText:function(e){return Object(m.jsx)(c.a,{component:"span",children:e})},textWithOk:function(e){return Object(m.jsxs)("div",{className:a.a.textWithIconWrapper,children:[Object(m.jsx)(c.a,{component:"span",children:e}),Object(m.jsx)(s.a,{style:{fontSize:"0.9rem"},color:"primary",className:a.a.icon})]})},textWithWait:function(e){return Object(m.jsxs)("div",{className:a.a.textWithIconWrapper,children:[Object(m.jsx)(c.a,{component:"span",children:e}),Object(m.jsx)(u.a,{style:{fontSize:"0.9rem"},color:"disabled",className:a.a.icon})]})},textWithLikes:function(e,t,n){return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(c.a,{component:"span",children:e}),Object(m.jsx)(v,{postId:t,likeCount:n})]})}}},132:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));n(0);var r=n(38),a=n(248),c=n(2),i=function(e){var t=Object(r.a)();return Object(c.jsx)(a.a,{style:{margin:t.spacing(0,1),position:e.inCorner?"absolute":void 0,top:e.inCorner?t.spacing(1):void 0,right:e.inCorner?t.spacing(0):void 0},color:"primary",label:e.count,size:"small"})}},141:function(e,t,n){"use strict";var r=n(6),a=n(106),c=(n(0),n(20)),i=n(15),s=n(2);t.a=function(e){return Object(i.b)((function(e){return{isAuth:e.auth.isAuth}}))((function(t){var n=t.isAuth,i=Object(a.a)(t,["isAuth"]);return n?Object(s.jsx)(e,Object(r.a)({},i)):Object(s.jsx)(c.a,{to:"/login"})}))}},142:function(e,t,n){"use strict";n.d(t,"c",(function(){return k})),n.d(t,"d",(function(){return I})),n.d(t,"b",(function(){return C}));var r=n(48),a=n(6),c=n(85),i={"message-received":[],"connection-changed":[]},s=null;function o(){console.log("CLOSE WS"),f(!1),setTimeout(p,3e3)}function u(e){var t=JSON.parse(e.data);t.forEach((function(e){return e.id=Object(c.a)()})),i["message-received"].forEach((function(e){return e(t)}))}function l(){f(!0)}function d(){var e,t,n,r;null===(e=s)||void 0===e||e.removeEventListener("close",o),null===(t=s)||void 0===t||t.removeEventListener("message",u),null===(n=s)||void 0===n||n.removeEventListener("open",l),null===(r=s)||void 0===r||r.close()}function f(e){i["connection-changed"].forEach((function(t){return t(e)}))}function p(){d(),s=new WebSocket("wss://social-network.samuraijs.com/handlers/ChatHandler.ashx"),f(!1),s.addEventListener("close",o),s.addEventListener("message",u),s.addEventListener("open",l)}var b=function(e,t){return i[e].push(t),function(){return i[e]=i[e].filter((function(e){return e!==t}))}},j=function(e,t){i[e]=i[e].filter((function(e){return e!==t}))},O=function(e){var t;null===(t=s)||void 0===t||t.send(e)},h=function(){p()},g=function(){d(),i["message-received"]=[],i["connection-changed"]=[]},m={messages:[],isConnected:!1},x=function(e){return{type:"SN/CHAT/MESSAGES_RECEIVED",payload:e}},v=function(){return{type:"SN/CHAT/CHAT_CLEARED"}},S=function(e){return{type:"SN/CHAT/CONNECTION_CHANGED",payload:e}},y=null,E=function(e){return null===y&&(y=function(t){e(x(t))}),y},w=null,N=function(e){return null===w&&(w=function(t){e(S(t))}),w},k=function(){return function(e){h(),b("message-received",E(e)),b("connection-changed",N(e))}},I=function(){return function(e){j("message-received",E(e)),j("connection-changed",N(e)),e(v()),g()}},C=function(e){return function(){O(e)}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/CHAT/MESSAGES_RECEIVED":return Object(a.a)(Object(a.a)({},e),{},{messages:[].concat(Object(r.a)(e.messages),Object(r.a)(t.payload)).slice(-100)});case"SN/CHAT/CHAT_CLEARED":return Object(a.a)(Object(a.a)({},e),{},{messages:[]});case"SN/CHAT/CONNECTION_CHANGED":return Object(a.a)(Object(a.a)({},e),{},{isConnected:t.payload});default:return e}}},143:function(e,t,n){e.exports={drawerContainer:"Navbar_drawerContainer__1aacK"}},16:function(e,t,n){"use strict";n.d(t,"c",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"b",(function(){return m}));var r=n(144),a=n.n(r),c=n(149),i=n.n(c),s=n(150),o=n.n(s),u=n(151),l=n.n(u),d=n(152),f=n.n(d),p=n(153),b=n.n(p),j=n(154),O=n.n(j),h={profile:{id:1,title:"Profile",icon:a.a},dialogs:{id:2,title:"Dialogs",icon:i.a},news:{id:3,title:"News",icon:o.a},music:{id:4,title:"Music",icon:l.a},chat:{id:5,title:"Chat",icon:f.a},users:{id:6,title:"Users",icon:b.a},settings:{id:7,title:"Settings",icon:O.a}},g=function(e){return e in h?h[e].id:0},m=function(e){return Object.keys(h).find((function(t){return h[t].id===e}))}},170:function(e,t,n){e.exports={postBlock:"MyPosts_postBlock__3b6E0",posts:"MyPosts_posts__3tZ1c"}},176:function(e,t,n){e.exports={checkboxWrapper:"Login_checkboxWrapper__7_o-w"}},19:function(e,t,n){"use strict";n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return g})),n.d(t,"d",(function(){return m})),n.d(t,"c",(function(){return x}));var r=n(6),a=n(106),c=n(0),i=n.n(c),s=n(47),o=n(247),u=n(244),l=n(246),d=n(240),f=n(184),p=n(186),b=n(105),j=n(2),O=function(e){var t=e.field,n=e.children,c=Object(a.a)(e,["field","children"]),s=c.form.getFieldMeta(t.name),o=s.touched&&s.error,u=s.error||void 0,l=Object(r.a)(Object(r.a)({},t),c);return o&&(l.error=!!o),u&&(l.helperText=u),Object(j.jsx)("div",{children:i.a.isValidElement(n)&&i.a.cloneElement(n,l)})},h=function(e){var t=Object(f.a)((function(e){return Object(p.a)({root:{"& > div":{fontFamily:Object(b.a)(e)}}})}))();return Object(j.jsx)(O,Object(r.a)(Object(r.a)({},e),{},{children:Object(j.jsx)(o.a,{classes:t})}))},g=function(e){return Object(j.jsx)(O,Object(r.a)(Object(r.a)({},e),{},{children:Object(j.jsx)(l.a,{})}))},m=i.a.memo((function(e){var t=e.children;return Object(j.jsx)(O,Object(r.a)(Object(r.a)({},e),{},{children:Object(j.jsx)(u.a,{children:t&&t.map((function(e){return Object(j.jsx)(d.a,{value:e.key,children:e.value},e.key)}))})}))}));function x(e,t,n,a,c){var i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};return Object(j.jsx)(s.b,Object(r.a)({className:e,placeholder:t,name:n,validate:c,component:a},i))}},207:function(e,t,n){},208:function(e,t,n){},235:function(e,t,n){"use strict";n.r(t);var r,a=function(e){e&&e instanceof Function&&n.e(9).then(n.bind(null,309)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),c(e),i(e)}))},c=n(0),i=n.n(c),s=n(13),o=n.n(s),u=(n(206),n(207),n(40)),l=n(74),d=(n(208),n(6)),f=n(143),p=n.n(f),b=n(37),j=n(20),O=n(284),h=n(183),g=n(283),m=n(238),x=n(16),v=n(15),S=n(63),y=n(132),E=n(2),w=function(e){var t=e.icon,n=e.primary,r=e.secondary,a=e.to,c=e.selected,s=e.onClick,o=i.a.useMemo((function(){return i.a.forwardRef((function(e,t){return Object(E.jsx)(b.b,Object(d.a)({to:a,ref:t},e))}))}),[a]);return Object(E.jsx)("li",{children:Object(E.jsxs)(h.a,{button:!0,component:o,selected:c,onClick:s,children:[Object(E.jsx)(g.a,{children:t}),Object(E.jsx)(m.a,{style:{display:"flex"},primary:n,secondary:r})]})})},N=function(){var e=Object(j.g)().location.pathname.substr(1),t=Object(v.d)(S.k),n=Object(c.useState)(Object(x.a)(e)),r=Object(u.a)(n,2),a=r[0],s=r[1],o=Object.keys(x.c).map((function(e){var n=e,r=x.c[n].id,c=x.c[n].title,o=i.a.createElement(x.c[n].icon),u=Object(x.b)(r),l="dialogs"===u&&t>0?Object(E.jsx)(y.a,{count:t}):void 0;return Object(E.jsx)(w,{to:"/"+u,primary:c,secondary:l,icon:o,selected:a===r,onClick:function(){s(r)}},u)}));return Object(E.jsx)("div",{className:p.a.drawerContainer,children:Object(E.jsx)(O.a,{children:o})})},k=n(156),I=n(157),C=n(180),P=n(179),L=n(101),_=n.n(L),T=n(80),A=n(107),D=n(297),F=n(247),R=n(289),U=n(184),W=n(186),M=function(e){var t=Object(U.a)((function(t){return Object(W.a)({statusInput:{margin:t.spacing(1)},statusText:{overflowWrap:"anywhere",maxWidth:e.blockWidth||"auto",flexBasis:"35.5ch",flexGrow:1,whiteSpace:"pre-line"},divider:{maxWidth:e.blockWidth||"auto"}})}))(),n=e.status||"No status",r=Object(c.useState)(!1),a=Object(u.a)(r,2),s=a[0],o=a[1],l=Object(c.useState)(e.status),d=Object(u.a)(l,2),f=d[0],p=d[1];Object(c.useEffect)((function(){p(e.status)}),[e.status]);var b=function(){var t=!s;o(t),!t&&f&&n!==f&&e.updateStatus(f)};return e.statusFetching?Object(E.jsx)(T.a,{notCentered:!0}):s&&e.isOwner?Object(E.jsx)(D.a,{title:"Click to empty place to save","aria-label":"save status",placement:"right",children:Object(E.jsx)(F.a,{autoFocus:!0,onBlur:b,onChange:function(e){p(e.target.value)},className:t.statusInput,value:f,multiline:!0})}):Object(E.jsxs)(i.a.Fragment,{children:[Object(E.jsx)("div",{className:_.a.statusDiv,onClick:b,children:e.isOwner?Object(E.jsx)(D.a,{title:"Click to edit","aria-label":"edit status",placement:"right",children:Object(E.jsx)(A.a,{color:"textSecondary",className:t.statusText,children:n})}):Object(E.jsx)(A.a,{color:"textSecondary",className:t.statusText,children:n})}),Object(E.jsx)(R.a,{className:t.divider})]})},G=n(290),H=n(182),z=n(159),V=n.n(z),J=n(160),B=n.n(J),q=n(161),Z=n.n(q),K=n(162),X=n.n(K),Y=n(163),Q=n.n(Y),$=n(164),ee=n.n($),te=n(165),ne=n.n(te);function re(){return(re=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ae(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},c=Object.keys(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(r=0;r<c.length;r++)n=c[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function ce(e,t){var n=e.title,a=e.titleId,i=ae(e,["title","titleId"]);return c.createElement("svg",re({xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",ref:t,"aria-labelledby":a},i),n?c.createElement("title",{id:a},n):null,r||(r=c.createElement("path",{d:"M19 0h-14c-2.761 0-5 2.239-5 5v14c0 2.761 2.239 5 5 5h14c2.762 0 5-2.239 5-5v-14c0-2.761-2.238-5-5-5zm.25 16.996h-2.134c-1.205 0-1.409-.687-2.401-1.679-.897-.897-1.395-.209-1.374 1.068.006.339-.161.611-.566.611-1.264 0-3.08.178-4.918-1.806-1.883-2.033-3.857-6.111-3.857-6.513 0-.237.196-.344.524-.344h2.17c.574 0 .623.284.783.649.667 1.521 2.265 4.574 2.69 2.87.244-.978.344-3.245-.703-3.44-.594-.11.452-.746 1.968-.746.377 0 .786.041 1.205.137.769.179.771.523.761 1.026-.039 1.903-.269 3.184.233 3.507.479.31 1.739-1.717 2.403-3.281.183-.433.219-.722.734-.722h2.654c1.39 0-.182 1.997-1.383 3.557-.968 1.255-.916 1.28.209 2.324.803.744 1.75 1.76 1.75 2.336.002.272-.21.446-.748.446z"})))}var ie=c.forwardRef(ce),se=(n.p,function(e){var t=e.contactTitle,n=e.contactInfo,r=Object(E.jsx)("div",{});switch(t){case"facebook":r=Object(E.jsx)(V.a,{});break;case"website":r=Object(E.jsx)(B.a,{});break;case"vk":r=Object(E.jsx)(H.a,{component:ie});break;case"twitter":r=Object(E.jsx)(Z.a,{});break;case"instagram":r=Object(E.jsx)(X.a,{});break;case"youtube":r=Object(E.jsx)(Q.a,{});break;case"github":r=Object(E.jsx)(ee.a,{});break;case"mainLink":r=Object(E.jsx)(ne.a,{})}return Object(E.jsx)(G.a,{color:"primary",component:"a",rel:"noreferrer",href:n,target:"_blank",children:r})}),oe=n(291),ue=Object(U.a)((function(e){return Object(W.a)({additionalInfo:{display:"flex",flexDirection:"column","& > div":{marginLeft:e.spacing(2),marginRight:e.spacing(2)}},additionalInfoItem:{marginTop:e.spacing(1)},wrapped:{display:"flex",flexWrap:"wrap"},contacts:{display:"flex",alignItems:"center",width:"100%"}})})),le=function(e){var t,n=ue(),r=(t=e.contacts,Object.keys(t).map((function(e){var n=t[e];return n?Object(E.jsx)(se,{contactTitle:e,contactInfo:n},e):null}))),a=!r.every((function(e){return null===e}));return Object(E.jsxs)("div",{className:n.additionalInfo,style:{maxWidth:e.blockWidth},children:[Object(E.jsxs)("div",{className:n.additionalInfoItem,children:[Object(E.jsxs)(A.a,{children:["About Me: ",e.aboutMe||"Empty"]}),Object(E.jsxs)(A.a,{children:["Looking for a job: ",e.lookingForAJob?"Yes":"No"]}),e.lookingForAJob&&Object(E.jsxs)(A.a,{className:n.wrapped,children:["Job description: ",e.lookingForAJobDescription]})]}),a?Object(E.jsxs)("div",{className:n.contacts,children:[Object(E.jsx)("div",{children:Object(E.jsx)(A.a,{children:"Contacts:"})}),Object(E.jsx)("div",{className:n.wrapped,children:r})]}):Object(E.jsx)("div",{className:n.contacts,children:Object(E.jsx)(A.a,{children:"no contacts"})}),e.isOwner&&Object(E.jsx)(oe.a,{color:"primary",variant:"contained",onClick:e.setEditMode,children:"Edit info"})]})},de=n(10),fe=n.n(de),pe=n(18),be=n(25),je=n(19),Oe=n(47),he=n(241),ge=n(43),me=Object(U.a)((function(e){return Object(W.a)({additionalInfoForm:{display:"flex",flexDirection:"column"},buttonsWrapper:{display:"flex",justifyContent:"center","& > *":{margin:e.spacing(1)}},additionalInfoRow:{display:"flex",justifyContent:"start",alignItems:"center","& > *":{margin:e.spacing(1)},"& > p":{flexBasis:"92px",textAlign:"end",margin:e.spacing(1)},"& > div":{flexGrow:1,display:"flex"}},infoWrapper:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(1),flexGrow:1,flexBasis:"460px"}},stretched:{flexGrow:1},errorText:{color:"red",marginLeft:e.spacing(1)},errorsWrapper:{display:"flex",justifyContent:"center"}})})),xe=function(e){var t=me(),n=Object(c.useState)(e.checked),r=Object(u.a)(n,2),a=r[0],i=r[1];return Object(E.jsxs)(he.a,{variant:"outlined",children:[Object(E.jsxs)("div",{className:t.additionalInfoRow,children:[Object(E.jsx)(A.a,{children:"Full name: "}),Object(je.c)(t.stretched,"Your name","fullName",je.b,Object(be.d)([be.c])),Object(E.jsx)(Oe.a,{name:"fullName"})]}),Object(E.jsxs)("div",{className:t.additionalInfoRow,children:[Object(E.jsx)(A.a,{children:"About me: "}),Object(je.c)(t.stretched,"Say about you","aboutMe",je.b,Object(be.d)([]))]}),Object(E.jsxs)("div",{className:t.additionalInfoRow,children:[Object(E.jsx)(A.a,{children:"Look for job: "}),Object(je.c)(void 0,void 0,"lookingForAJob",je.a,Object(be.d)([]),{checked:a,color:"primary",onChange:function(t){e.triggerCheckbox(),i(t.target.checked)}})]}),Object(E.jsx)("div",{className:t.errorText,children:Object(E.jsx)(Oe.a,{name:"lookingForAJob"})}),Object(E.jsxs)("div",{className:t.additionalInfoRow,children:[Object(E.jsx)(A.a,{children:"Skills: "}),Object(je.c)(t.stretched,"Say about job or skills","lookingForAJobDescription",je.b,Object(be.d)([]),{multiline:!0})]})]})},ve=function(e){var t=me();return Object(E.jsx)(he.a,{variant:"outlined",children:Object.keys(e.contacts).map((function(e){return Object(E.jsxs)("div",{className:t.additionalInfoRow,children:[Object(E.jsxs)(A.a,{children:[e,":"]}),Object(je.c)(t.stretched,e+" link with http","contacts."+e,je.b,Object(be.d)([]))]},e)}))})},Se=function(e){var t=me(),n=Object(v.c)(),r=e.profile;r.contacts=function(e){for(var t in e)e.hasOwnProperty(t)&&(e[t]=e[t]||"");return e}(r.contacts);var a=Object(Oe.d)({initialValues:e.profile,enableReinitialize:!0,onSubmit:function(e,t){return c.apply(this,arguments)}});function c(){return(c=Object(pe.a)(fe.a.mark((function t(r,c){var i,s,o,u;return fe.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=c.setSubmitting,s=c.setFieldError,o=c.setStatus,u="",t.prev=2,t.next=5,n(Object(ge.f)(r,s,o));case 5:t.next=10;break;case 7:t.prev=7,t.t0=t.catch(2),u=t.t0;case 10:return t.prev=10,i(!1),t.finish(10);case 13:!u&&a.submitCount>0&&e.onChancel();case 14:case"end":return t.stop()}}),t,null,[[2,7,10,13]])})))).apply(this,arguments)}return Object(E.jsx)("form",{className:t.additionalInfoForm,onSubmit:a.handleSubmit,children:Object(E.jsxs)(Oe.c,{value:a,children:[Object(E.jsxs)("div",{className:t.infoWrapper,children:[Object(E.jsx)(xe,{checked:e.profile.lookingForAJob,triggerCheckbox:function(){a.setFieldValue("lookingForAJob",!a.values.lookingForAJob)}}),Object(E.jsx)(ve,{contacts:e.profile.contacts})]}),Object(E.jsx)("div",{className:t.errorsWrapper,children:Object(E.jsx)("div",{className:t.errorText,children:a.status})}),Object(E.jsxs)("div",{className:t.buttonsWrapper,children:[Object(E.jsx)(oe.a,{color:"primary",variant:"contained",type:"submit",disabled:a.isSubmitting||!a.isValid||!a.dirty,children:"Save"}),Object(E.jsx)(oe.a,{color:"secondary",variant:"contained",onClick:e.onChancel,children:"Cancel"})]})]})})},ye=n(78),Ee=n(188),we=n(169),Ne=n.n(we),ke=n(75),Ie=Object(U.a)((function(e){return Object(W.a)({avatarWrapper:{display:"flex",flexDirection:"column","& > *":{margin:e.spacing(1)}},large:{width:e.spacing(38),height:e.spacing(38)},input:{display:"none"},label:{display:"flex",justifyContent:"center"}})})),Ce=function(e){var t=Ie(),n=Object(j.g)(),r=Object(v.c)(),a=e.largePhoto||ye.a,c=Object(E.jsx)(oe.a,{variant:"contained",color:"primary",onClick:function(){r(Object(ke.g)(e.userId)),n.push("/".concat(Object(x.b)(x.c.dialogs.id),"/").concat(e.userId))},children:"Start dialog"});return Object(E.jsxs)("div",{className:t.avatarWrapper,children:[Object(E.jsx)(Ee.a,{className:t.large,src:a}),e.isOwner?Object(E.jsx)(Pe,{}):c]})},Pe=function(){var e=Object(v.c)(),t=Ie();return Object(E.jsxs)(E.Fragment,{children:[Object(E.jsx)("input",{className:t.input,accept:"image/*",type:"file",id:"icon-button-file",onChange:function(t){t.target.files&&e(Object(ge.e)(t.target.files[0]))}}),Object(E.jsx)("label",{htmlFor:"icon-button-file",className:t.label,children:Object(E.jsx)(oe.a,{variant:"contained",color:"primary",component:"span",startIcon:Object(E.jsx)(Ne.a,{}),children:"Upload"})})]})},Le=n.p+"static/media/social-network-pattern-background.066f3894.jpg",_e="52.5ch",Te=Object(U.a)((function(e){return Object(W.a)({wallpaper:{backgroundImage:"".concat("linear-gradient(rgba(255,255,255,.95), rgba(255,255,255,.95))",", url(").concat(Le,")"),backgroundSize:"40%",margin:e.spacing(-3)},profileDescriptionWrapper:{display:"flex",flexDirection:"column",flexGrow:1,margin:e.spacing(0,4)}})})),Ae=function(e){var t=Te(),n=Object(c.useState)(!1),r=Object(u.a)(n,2),a=r[0],i=r[1];return e.profile?Object(E.jsx)("div",{className:t.wallpaper,children:Object(E.jsxs)("div",{className:_.a.profileDescription,children:[Object(E.jsx)(Ce,{largePhoto:e.profile.photos.large,isOwner:e.isOwner,userId:e.profile.userId}),Object(E.jsxs)("div",{className:t.profileDescriptionWrapper,children:[Object(E.jsx)(A.a,{variant:"h4",children:e.profile.fullName}),Object(E.jsx)(M,{status:e.status,updateStatus:e.updateStatus,statusFetching:e.statusFetching,isOwner:e.isOwner,blockWidth:_e}),a?Object(E.jsx)(Se,{onChancel:function(){return i(!1)},profile:e.profile}):Object(E.jsx)(le,{aboutMe:e.profile.aboutMe,lookingForAJob:e.profile.lookingForAJob,lookingForAJobDescription:e.profile.lookingForAJobDescription,contacts:e.profile.contacts,setEditMode:function(){return i(!0)},isOwner:e.isOwner,blockWidth:_e})]})]})}):Object(E.jsx)(T.a,{})},De=n(170),Fe=n.n(De),Re=n(120),Ue=n(124),We=n(125),Me="30ch",Ge=Object(U.a)((function(e){return Object(W.a)({postsList:{width:"100%",maxWidth:Me,backgroundColor:e.palette.background.paper},postsTitle:{margin:e.spacing(2,0)}})})),He=function(e){var t=Ge(),n=e.postsData.map((function(t){return Object(E.jsx)(Re.a,{postId:t.id,action:We.a.textWithLikes(t.text,t.id,t.likes),avatar:e.avatar,userName:e.userName,blockWidth:Me},"MyPost"+t.id)}));return Object(E.jsxs)("div",{className:Fe.a.postBlock,children:[Object(E.jsx)(A.a,{variant:"h5",className:t.postsTitle,children:"Posts"}),Object(E.jsx)(Ue.a,{blockWidth:Me,sendMessage:ge.d.sendPost,buttonText:"Add Post",minTextLength:2,maxTextLength:100}),Object(E.jsx)(O.a,{className:t.postsList,children:n})]})},ze=Object(v.b)((function(e){return{postsData:e.profilePage.postsData,avatar:e.profilePage.profile?e.profilePage.profile.photos.small:"",userName:e.auth.login}}),{})(He),Ve=function(e){return Object(E.jsxs)("div",{children:[Object(E.jsx)(Ae,{profile:e.profile,status:e.status,updateStatus:e.updateStatus,statusFetching:e.statusFetching,isOwner:e.isOwner}),Object(E.jsx)(ze,{})]})},Je=n(141),Be=function(e){Object(C.a)(n,e);var t=Object(P.a)(n);function n(){return Object(k.a)(this,n),t.apply(this,arguments)}return Object(I.a)(n,[{key:"getProfileData",value:function(){this.props.getProfile(parseInt(this.props.match.params.userId)),this.props.getStatus(parseInt(this.props.match.params.userId))}},{key:"componentDidMount",value:function(){this.getProfileData()}},{key:"componentDidUpdate",value:function(e,t,n){e.match.params.userId!==this.props.match.params.userId&&this.getProfileData()}},{key:"render",value:function(){return Object(E.jsx)(Ve,Object(d.a)(Object(d.a)({},this.props),{},{isOwner:!this.props.match.params.userId}))}}]),n}(i.a.Component),qe={getProfile:ge.b,getStatus:ge.c,updateStatus:ge.g},Ze=Object(v.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,statusFetching:e.profilePage.statusFetching}}),qe)(Object(j.h)(Object(Je.a)(Be))),Ke=n(176),Xe=n.n(Ke),Ye=n(26),Qe=n(55),$e={id:null,email:null,login:null,isAuth:!1,isFetching:!1,captchaUrl:null},et=function(e,t,n,r){return{type:"SN/AUTH/SET_AUTH",data:{id:e,email:t,login:n,isAuth:r}}},tt=function(e){return{type:"SN/AUTH/GET_CAPTCHA_SUCCESS",url:e}},nt=function(){return function(){var e=Object(pe.a)(fe.a.mark((function e(t){var n,r,a,c;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.a.Auth.Me();case 2:if(null!==(n=e.sent)){e.next=5;break}return e.abrupt("return");case 5:r=n.id,a=n.email,c=n.login,t(et(r,a,c,!0));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},rt=function(){return function(){var e=Object(pe.a)(fe.a.mark((function e(t){var n;return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.a.Security.getCaptcha();case 2:if(n=e.sent){e.next=5;break}return e.abrupt("return");case 5:t(tt(n));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},at=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/AUTH/SET_AUTH":return Object(d.a)(Object(d.a)({},e),t.data);case"SN/AUTH/GET_CAPTCHA_SUCCESS":return Object(d.a)(Object(d.a)({},e),{},{captchaUrl:t.url});default:return e}},ct=Object(be.a)(30),it=Object(U.a)((function(e){return Object(W.a)({loginForm:{display:"flex",flexDirection:"column",width:"20ch",margin:e.spacing(1),"& > *":{display:"flex"}},loginInput:{flexGrow:1,margin:e.spacing(1)},errorText:{color:"red",alignSelf:"center",marginBottom:e.spacing(1)}})})),st=function(e){var t=Object(v.c)(),n=it(),r=Object(Oe.d)({initialValues:{login:"",password:"",rememberMe:!1,captcha:""},onSubmit:function(e,n){var a=n.setSubmitting;t(function(e,t,n,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){};return function(){var c=Object(pe.a)(fe.a.mark((function c(i){var s;return fe.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Ye.a.Auth.Login(e,t,n,r);case 2:if(!(s=c.sent).error){c.next=8;break}if(s.resultCode!==Qe.a.captchaRequired){c.next=7;break}return c.next=7,i(rt());case 7:return c.abrupt("return",a(s.error));case 8:return c.next=10,i(nt());case 10:i(tt(null));case 11:case"end":return c.stop()}}),c)})));return function(e){return c.apply(this,arguments)}}()}(e.login,e.password,e.rememberMe,e.captcha,r.setStatus)),a(!1)}});return Object(E.jsxs)("form",{className:n.loginForm,onSubmit:r.handleSubmit,children:[Object(E.jsxs)(Oe.c,{value:r,children:[Object(je.c)(n.loginInput,"Enter login","login",je.b,Object(be.d)([be.c,ct])),Object(je.c)(n.loginInput,"Enter password","password",je.b,Object(be.d)([be.c,ct]),{type:"password"}),Object(E.jsxs)("div",{className:Xe.a.checkboxWrapper,children:[Object(je.c)(void 0,void 0,"rememberMe",je.a,Object(be.d)([]),{color:"primary"}),Object(E.jsx)("span",{children:"remember me"})]}),e.captchaUrl&&Object(E.jsx)("img",{alt:"captcha",src:e.captchaUrl}),e.captchaUrl&&Object(je.c)(n.loginInput,"Enter symbols from image","captcha",je.b,Object(be.d)([be.c,ct]),{autoComplete:"off"})]}),r.status&&Object(E.jsx)("div",{className:n.errorText,children:r.status}),Object(E.jsx)(oe.a,{variant:"contained",color:"primary",type:"submit",disabled:r.isSubmitting||!r.isValid,children:"Login"})]})},ot=Object(U.a)((function(){return Object(W.a)({loginPage:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",height:"80vh"}})})),ut=function(){var e=ot(),t=Object(v.d)(S.g),n=Object(v.d)(S.a);return t?Object(E.jsx)(j.a,{to:"/profile"}):Object(E.jsxs)("div",{className:e.loginPage,children:[Object(E.jsx)(A.a,{variant:"h4",children:"Login"}),Object(E.jsx)(st,{captchaUrl:n})]})},lt={initDone:!1},dt=function(){return{type:"SN/APP/SET_INIT_DONE"}},ft=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:lt,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/APP/SET_INIT_DONE":return Object(d.a)(Object(d.a)({},e),{},{initDone:!0});default:return e}},pt=function(){return Object(E.jsx)(j.a,{to:"/profile"})},bt=n(116),jt=n.n(bt),Ot=n.p+"static/media/logo.6ce24c58.svg",ht=n(293),gt=n(292),mt=Object(U.a)((function(e){return Object(W.a)({loginBlock:{display:"flex",alignItems:"center",marginLeft:e.spacing(1),marginRight:e.spacing(1)},login:Object(d.a)(Object(d.a)({},e.typography.subtitle1),{},{padding:e.spacing(1)}),appBar:{zIndex:e.zIndex.drawer+1},headerContentWrapper:{justifyContent:"space-between"}})})),xt=function(){var e=mt(),t=Object(v.d)(S.g),n=Object(v.d)(S.j),r=Object(v.c)();return Object(E.jsx)(gt.a,{position:"fixed",className:e.appBar,children:Object(E.jsxs)(ht.a,{className:e.headerContentWrapper,children:[Object(E.jsx)("img",{className:jt.a.headerLogo,src:Ot,alt:"logo"}),Object(E.jsx)("div",{children:t?Object(E.jsxs)("div",{className:e.loginBlock,children:[Object(E.jsx)(Ee.a,{alt:"Header Avatar",src:ye.a}),Object(E.jsx)(A.a,{className:e.login,children:n}),Object(E.jsx)(oe.a,{variant:"contained",onClick:function(){r(function(){var e=Object(pe.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ye.a.Auth.Logout();case 2:if(e.sent){e.next=5;break}return e.abrupt("return");case 5:t(et(null,null,null,!1));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},children:"logout"})]}):Object(E.jsx)(b.c,{to:"/login",className:jt.a.loginLink,children:"Login"})})]})})},vt=function(){return Object(E.jsx)("div",{children:"404 Not Found"})},St=n(295),yt=n(296),Et=n(294),wt=function(e){return Object(E.jsx)(yt.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:e.isOpen,onClose:function(t,n){"clickaway"!==n&&e.setNotificationOpen(!1)},autoHideDuration:6e3,TransitionComponent:Et.a,message:e.text})},Nt=i.a.lazy((function(){return n.e(8).then(n.bind(null,310))})),kt=i.a.lazy((function(){return n.e(6).then(n.bind(null,311))})),It=i.a.lazy((function(){return n.e(7).then(n.bind(null,312))})),Ct=i.a.lazy((function(){return n.e(3).then(n.bind(null,313))})),Pt=i.a.lazy((function(){return n.e(4).then(n.bind(null,314))})),Lt=i.a.lazy((function(){return n.e(5).then(n.bind(null,315))})),_t=Object(U.a)((function(e){var t;return Object(W.a)({root:{display:"flex"},drawer:(t={width:240},Object(l.a)(t,e.breakpoints.down("md"),{width:e.spacing(7)+1}),Object(l.a)(t,"flexShrink",0),t),drawerPaper:Object(l.a)({width:240},e.breakpoints.down("md"),{width:e.spacing(7)+1}),drawerContainer:{overflow:"auto"},content:{flexGrow:1,width:330,padding:e.spacing(3)}})})),Tt=function(){var e=_t();return Object(E.jsxs)("main",{className:e.content,children:[Object(E.jsx)(ht.a,{}),Object(E.jsx)(c.Suspense,{fallback:Object(E.jsx)("div",{children:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430..."}),children:Object(E.jsxs)(j.d,{children:[Object(E.jsx)(j.b,{exact:!0,path:"/",component:pt}),Object(E.jsx)(j.b,{path:"/"+Object(x.b)(x.c.profile.id)+"/:userId?",component:function(){return Object(E.jsx)(Ze,{})}}),Object(E.jsx)(j.b,{path:"/"+Object(x.b)(x.c.dialogs.id)+"/:userId?",component:function(){return Object(E.jsx)(Pt,{})}}),Object(E.jsx)(j.b,{path:"/"+Object(x.b)(x.c.news.id),component:It}),Object(E.jsx)(j.b,{path:"/"+Object(x.b)(x.c.music.id),component:kt}),Object(E.jsx)(j.b,{path:"/"+Object(x.b)(x.c.users.id),component:Ct}),Object(E.jsx)(j.b,{path:"/"+Object(x.b)(x.c.settings.id),component:Nt}),Object(E.jsx)(j.b,{path:"/"+Object(x.b)(x.c.chat.id),component:Lt}),Object(E.jsx)(j.b,{path:"/login",component:ut}),Object(E.jsx)(j.b,{path:"*",component:vt})]})})]})},At=Object(v.b)((function(e){return{isInitDone:e.app.initDone,isAuth:e.auth.isAuth}}),{makeInit:function(){return function(e){var t=e(nt());Promise.all([t]).then((function(){e(dt())}))}},getInfoAfterLogin:function(){return function(){var e=Object(pe.a)(fe.a.mark((function e(t){return fe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(Object(ke.e)());case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}})((function(e){var t=e.isAuth,n=e.isInitDone,r=e.makeInit,a=e.getInfoAfterLogin,s=i.a.useState(!1),o=Object(u.a)(s,2),l=o[0],d=o[1],f=i.a.useState(""),p=Object(u.a)(f,2),b=p[0],j=p[1],O=function(e){var t=e.reason.response;j(t?"ERROR: server returned "+t.status+" "+t.statusText:"ERROR: server is not respond!"),d(!0)};Object(c.useEffect)((function(){return window.addEventListener("unhandledrejection",O),r(),function(){window.removeEventListener("unhandledrejection",O)}}),[]),Object(c.useEffect)((function(){t&&a()}),[t,a]);var h=_t();return n?Object(E.jsxs)("div",{className:h.root,children:[Object(E.jsx)(wt,{isOpen:l,text:b,setNotificationOpen:d}),Object(E.jsx)(xt,{}),Object(E.jsxs)(St.a,{className:h.drawer,variant:"permanent",classes:{paper:h.drawerPaper},children:[Object(E.jsx)(ht.a,{}),Object(E.jsx)(N,{})]}),Object(E.jsx)(Tt,{})]}):Object(E.jsx)(T.a,{})})),Dt=n(83),Ft=n(123),Rt=n(177),Ut=n(142),Wt=Object(Dt.c)({profilePage:ge.a,dialogsPage:ke.a,usersPage:Ft.a,auth:at,app:ft,chat:Ut.a}),Mt=Object(Dt.d)(Wt,Object(Dt.a)(Rt.a));o.a.render(Object(E.jsx)(i.a.StrictMode,{children:Object(E.jsx)(b.a,{children:Object(E.jsx)(v.a,{store:Mt,children:Object(E.jsx)(At,{})})})}),document.getElementById("root")),a()},25:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return i}));var r=function(e){return function(t){var n="";return e.forEach((function(e){var r=e(t);void 0!==r&&(n=r)})),n}},a=function(e){if(!e)return"Required field"},c=function(e){return function(t){if(t&&t.length>e)return"Max length is ".concat(e)}},i=function(e){return function(t){if(t&&t.length<e)return"Min length is ".concat(e)}}},26:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(168),a=n.n(r),c=n(55),i=a.a.create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"4b793204-e0f1-45c5-b96a-007d58f175b3"}}),s={Users:{getUsers:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2?arguments[2]:void 0;return i.get("users",{params:{count:e,page:t+1,term:n.searchTerm,friend:n.friend}}).then((function(e){return 0===e.data.items.length?null:e.data}))},unfollow:function(e){return i.delete("follow/"+e).then((function(e){return e.data.resultCode===c.b.Success}))},follow:function(e){return i.post("follow/"+e).then((function(e){return e.data.resultCode===c.b.Success}))}},Auth:{Me:function(){return i.get("auth/me/").then((function(e){return e.data.resultCode===c.b.Success?e.data.data:null}))},Login:function(e,t,n,r){return i.post("auth/login/",{email:e,password:t,rememberMe:n,captcha:r}).then((function(e){return e.data.resultCode===c.b.Success?{result:e.data.data}:{error:e.data.messages.length?e.data.messages[0]:"Unknown error",resultCode:e.data.resultCode||-1}}))},Logout:function(){return i.delete("auth/login/").then((function(e){return e.data.resultCode===c.b.Success}))}},Profile:{getProfile:function(e){return i.get("profile/"+e).then((function(e){return e.data?e.data:null}))},getStatus:function(e){return i.get("profile/status/"+e).then((function(e){return e.data}))},updateStatus:function(e){return i.put("profile/status",{status:e}).then((function(e){return e.data.resultCode===c.b.Success}))},savePhoto:function(e){var t=new FormData;return t.append("image",e),i.put("profile/photo",t,{headers:{"Content-Type":"multipart/form-data"}}).then((function(e){if(0===e.data.resultCode)return e.data.data.photos}))},saveProfile:function(e){return i.put("profile",e).then((function(e){if(e.data.resultCode===c.b.Success)return Promise.resolve();var t=e.data.messages.length?e.data.messages:["Unknown error. (unknown)"];return Promise.reject(t)}))}},Security:{getCaptcha:function(){return i.get("security/get-captcha-url").then((function(e){if(e.data)return e.data.url}))}},Dialogs:{getDialogsList:function(){return i.get("dialogs").then((function(e){if(e.data)return e.data}))},startRefreshDialog:function(e){return i.put("dialogs/"+e).then((function(e){return e.data.resultCode===c.b.Success}))},getMessagesList:function(e){return i.get("dialogs/"+e+"/messages").then((function(e){if(!e.data.error)return e.data.items}))},sendMessage:function(e,t){return i.post("dialogs/"+e+"/messages",{body:t}).then((function(e){if(e.data.resultCode===c.b.Success)return e.data.data.message}))},getNewMessagesCount:function(){return i.get("dialogs/messages/new/count").then((function(e){return e.data}))}}}},43:function(e,t,n){"use strict";n.d(t,"d",(function(){return b})),n.d(t,"c",(function(){return j})),n.d(t,"g",(function(){return O})),n.d(t,"b",(function(){return h})),n.d(t,"e",(function(){return g})),n.d(t,"f",(function(){return m}));var r=n(10),a=n.n(r),c=n(18),i=n(48),s=n(6),o=n(26),u=n(85);function l(e,t){}function d(e){}function f(e,t,n){e.forEach((function(e){var r,a,c,i,s=e.split("(")[1];-1!==s.indexOf("->")?(r=s.split("->")[0].toLowerCase(),a=s.substring(0,s.length-1).split("->")[1].toLowerCase(),i=(c=e.split("(")[0]).substring(0,c.length-1),t("".concat(r,".").concat(a),i)):(r=s.substring(0,s.length-1),i=(c=e.split("(")[0]).substring(0,c.length-1),"contacts"===r&&n(i),t(r,i))}))}var p={postsData:[{id:Object(u.a)(),text:"Second post!",likes:20},{id:Object(u.a)(),text:"First post!",likes:15}],profile:null,statusFetching:!1,status:""},b={sendPost:function(e){return{type:"SN/PROFILE/ADD_POST",newPost:e}},deletePost:function(e){return{type:"SN/PROFILE/DELETE_POST",postId:e}},setProfile:function(e){return{type:"SN/PROFILE/SET_PROFILE",profile:e}},updateProfile:function(e){return{type:"SN/PROFILE/UPDATE_PROFILE",profile:e}},setStatus:function(e){return{type:"SN/PROFILE/SET_STATUS",status:e}},toggleStatusFetching:function(){return{type:"SN/PROFILE/TOGGLE_STATUS_FETCHING"}},savePhotoSuccess:function(e){return{type:"SN/PROFILE/SAVE_PHOTO_SUCCESS",photos:e}},addLike:function(e){return{type:"SN/PROFILE/ADD_LIKE",postId:e}}},j=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e||r().auth.id){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,o.a.Profile.getStatus(c);case 5:if(null!==(i=t.sent)){t.next=9;break}return n(b.setStatus("")),t.abrupt("return");case 9:n(b.setStatus(i));case 10:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},O=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n(b.toggleStatusFetching()),t.prev=1,t.next=4,o.a.Profile.updateStatus(e);case 4:if(t.sent){t.next=7;break}return t.abrupt("return");case 7:n(b.setStatus(e)),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),alert("\u041d\u0435 \u0443\u0434\u0430\u043b\u043e\u0441\u044c \u0441\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0441\u0442\u0430\u0442\u0443\u0441, \u043f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u043f\u043e\u0437\u0436\u0435!");case 13:n(b.toggleStatusFetching());case 14:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}()},h=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c=e||r().auth.id){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,o.a.Profile.getProfile(c);case 5:if(null!==(i=t.sent)){t.next=8;break}return t.abrupt("return");case 8:n(b.setProfile(i));case 9:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},g=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.Profile.savePhoto(e);case 2:if(void 0!==(r=t.sent)){t.next=5;break}return t.abrupt("return");case 5:n(b.savePhotoSuccess(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:l,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:d;return function(r){return o.a.Profile.saveProfile(e).then((function(){return r(b.updateProfile(e)),Promise.resolve()}),(function(e){return f(e,t,n),Promise.reject("formHasErrors")}))}};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/PROFILE/ADD_POST":return void 0===t.newPost||""===t.newPost.replace(/\s+/g,"")?e:Object(s.a)(Object(s.a)({},e),{},{postsData:[].concat(Object(i.a)(e.postsData),[{id:Object(u.a)(),text:t.newPost,likes:0}])});case"SN/PROFILE/DELETE_POST":return Object(s.a)(Object(s.a)({},e),{},{postsData:e.postsData.filter((function(e){return e.id!==t.postId}))});case"SN/PROFILE/SET_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:t.profile});case"SN/PROFILE/UPDATE_PROFILE":return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)(Object(s.a)({},e.profile),t.profile),{},{contacts:Object(s.a)(Object(s.a)({},e.profile.contacts),t.profile.contacts)})});case"SN/PROFILE/SET_STATUS":return Object(s.a)(Object(s.a)({},e),{},{status:t.status});case"SN/PROFILE/TOGGLE_STATUS_FETCHING":return Object(s.a)(Object(s.a)({},e),{},{statusFetching:!e.statusFetching});case"SN/PROFILE/SAVE_PHOTO_SUCCESS":return Object(s.a)(Object(s.a)({},e),{},{profile:Object(s.a)(Object(s.a)({},e.profile),{},{photos:t.photos})});case"SN/PROFILE/ADD_LIKE":return Object(s.a)(Object(s.a)({},e),{},{postsData:e.postsData.map((function(e){return e.id===t.postId?Object(s.a)(Object(s.a)({},e),{},{likes:e.likes+1}):e}))});default:return e}}},55:function(e,t,n){"use strict";var r,a;n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return a})),function(e){e[e.Success=0]="Success",e[e.Error=1]="Error"}(r||(r={})),function(e){e[e.captchaRequired=10]="captchaRequired"}(a||(a={}))},63:function(e,t,n){"use strict";function r(e){return e.usersPage.users}function a(e){return e.usersPage.currentPage}function c(e){return e.usersPage.pageSize}function i(e){return e.usersPage.isUsersFetching}function s(e){return e.usersPage.followingInProgress}function o(e){return e.usersPage.filter}function u(e){return e.auth.isAuth}function l(e){return e.auth.captchaUrl}function d(e){return e.auth.login}function f(e){return e.auth.id}function p(e){return e.chat.messages}function b(e){return e.chat.isConnected}function j(e){return e.dialogsPage.messageList}function O(e){return e.dialogsPage.userList}function h(e){return e.dialogsPage.newMessagesCount}n.d(t,"o",(function(){return r})),n.d(t,"c",(function(){return a})),n.d(t,"m",(function(){return c})),n.d(t,"i",(function(){return i})),n.d(t,"f",(function(){return s})),n.d(t,"n",(function(){return o})),n.d(t,"g",(function(){return u})),n.d(t,"a",(function(){return l})),n.d(t,"j",(function(){return d})),n.d(t,"l",(function(){return f})),n.d(t,"b",(function(){return p})),n.d(t,"h",(function(){return b})),n.d(t,"d",(function(){return j})),n.d(t,"e",(function(){return O})),n.d(t,"k",(function(){return h}))},75:function(e,t,n){"use strict";n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return d})),n.d(t,"g",(function(){return f})),n.d(t,"d",(function(){return p})),n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return j}));var r=n(10),a=n.n(r),c=n(18),i=n(48),s=n(6),o=n(26),u={userList:[],messageList:[],currentChatId:0,newMessagesCount:0},l={messageSent:function(e){return{type:"SN/DIALOGS/ADD_MESSAGE",newMessage:e}},dialogsListReceived:function(e){return{type:"SN/DIALOGS/DIALOGS_LIST_RECEIVED",payload:e}},messagesListReceived:function(e){return{type:"SN/DIALOGS/MESSAGES_LIST_RECEIVED",payload:e}},chatChanged:function(e){return{type:"SN/DIALOGS/CHAT_CHANGED",payload:e}},newMessagesCountReceived:function(e){return{type:"SN/DIALOGS/NEW_MESSAGES_COUNT_RECEIVED",payload:e}}},d=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.Dialogs.getDialogsList();case 2:if((n=e.sent)&&n.length){e.next=6;break}return t(l.dialogsListReceived([])),e.abrupt("return");case 6:t(l.dialogsListReceived(n));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},f=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.Dialogs.startRefreshDialog(e);case 2:if(!t.sent){t.next=6;break}return t.next=6,n(d());case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},p=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n){var r;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,o.a.Dialogs.getMessagesList(e);case 2:if(r=t.sent){t.next=5;break}return t.abrupt("return");case 5:n(l.messagesListReceived(r));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},b=function(e){return function(){var t=Object(c.a)(a.a.mark((function t(n,r){var c,i;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=r().dialogsPage.currentChatId,t.next=3,o.a.Dialogs.sendMessage(c,e);case 3:if(i=t.sent){t.next=6;break}return t.abrupt("return");case 6:n(l.messageSent(i));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},j=function(){return function(){var e=Object(c.a)(a.a.mark((function e(t){var n;return a.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.a.Dialogs.getNewMessagesCount();case 2:n=e.sent,t(l.newMessagesCountReceived(n));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()};t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SN/DIALOGS/ADD_MESSAGE":return Object(s.a)(Object(s.a)({},e),{},{messageList:[].concat(Object(i.a)(e.messageList),[Object(s.a)({},t.newMessage)])});case"SN/DIALOGS/DIALOGS_LIST_RECEIVED":return Object(s.a)(Object(s.a)({},e),{},{userList:Object(i.a)(t.payload)});case"SN/DIALOGS/MESSAGES_LIST_RECEIVED":return Object(s.a)(Object(s.a)({},e),{},{messageList:Object(i.a)(t.payload)});case"SN/DIALOGS/CHAT_CHANGED":return Object(s.a)(Object(s.a)({},e),{},{currentChatId:t.payload});case"SN/DIALOGS/NEW_MESSAGES_COUNT_RECEIVED":return Object(s.a)(Object(s.a)({},e),{},{newMessagesCount:t.payload});default:return e}}},78:function(e,t,n){"use strict";t.a=n.p+"static/media/user-male.ba3e9327.png"},80:function(e,t,n){"use strict";n(0);var r=n(115),a=n.n(r),c=n.p+"static/media/preloader-spinner.635e13f4.svg",i=n(2);t.a=function(e){return Object(i.jsx)("div",{className:e.notCentered?void 0:a.a.preloaderWrapper,children:Object(i.jsx)("img",{alt:"preloader",className:a.a.preloader,src:c})})}},90:function(e,t,n){e.exports={textWithIconWrapper:"PostActions_textWithIconWrapper__2-gBR",icon:"PostActions_icon__3y829"}}},[[235,1,2]]]);
//# sourceMappingURL=main.3305dca2.chunk.js.map