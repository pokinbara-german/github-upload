(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[4],{304:function(e,t,a){"use strict";a.d(t,"a",(function(){return u}));var n=a(40),s=a(0),i=a.n(s),c=a(287),r=a(12),o=a(30),d=a(76),l=a(2),u=function(e){var t=e.messages,a=Object(r.d)(o.k),s=i.a.useRef(null),u=i.a.useState(!0),j=Object(n.a)(u,2),b=j[0],h=j[1];return i.a.useEffect((function(){b&&setTimeout((function(){var e;null===(e=s.current)||void 0===e||e.scrollIntoView({behavior:"smooth",block:"end"})}),500)}),[t,b]),Object(l.jsxs)(c.a,{style:{height:e.height,overflowY:"auto",width:"100%"},onScroll:function(e){var t=e.currentTarget;t.scrollHeight-t.scrollTop===t.clientHeight?!b&&h(!0):b&&h(!1)},children:[t,a&&Object(l.jsx)("li",{children:Object(l.jsx)(d.a,{notCentered:!0})}),Object(l.jsx)("li",{ref:s})]})}},307:function(e,t,a){"use strict";var n=a(1),s=a(4),i=a(17),c=a(0),r=(a(3),a(6)),o=a(7),d=a(8),l=c.forwardRef((function(e,t){var a=e.classes,i=e.className,o=e.component,l=void 0===o?"div":o,u=e.disableGutters,j=void 0!==u&&u,b=e.fixed,h=void 0!==b&&b,p=e.maxWidth,O=void 0===p?"lg":p,x=Object(s.a)(e,["classes","className","component","disableGutters","fixed","maxWidth"]);return c.createElement(l,Object(n.a)({className:Object(r.a)(a.root,i,h&&a.fixed,j&&a.disableGutters,!1!==O&&a["maxWidth".concat(Object(d.a)(String(O)))]),ref:t},x))}));t.a=Object(o.a)((function(e){return{root:Object(i.a)({width:"100%",marginLeft:"auto",boxSizing:"border-box",marginRight:"auto",paddingLeft:e.spacing(2),paddingRight:e.spacing(2),display:"block"},e.breakpoints.up("sm"),{paddingLeft:e.spacing(3),paddingRight:e.spacing(3)}),disableGutters:{paddingLeft:0,paddingRight:0},fixed:Object.keys(e.breakpoints.values).reduce((function(t,a){var n=e.breakpoints.values[a];return 0!==n&&(t[e.breakpoints.up(a)]={maxWidth:n}),t}),{}),maxWidthXs:Object(i.a)({},e.breakpoints.up("xs"),{maxWidth:Math.max(e.breakpoints.values.xs,444)}),maxWidthSm:Object(i.a)({},e.breakpoints.up("sm"),{maxWidth:e.breakpoints.values.sm}),maxWidthMd:Object(i.a)({},e.breakpoints.up("md"),{maxWidth:e.breakpoints.values.md}),maxWidthLg:Object(i.a)({},e.breakpoints.up("lg"),{maxWidth:e.breakpoints.values.lg}),maxWidthXl:Object(i.a)({},e.breakpoints.up("xl"),{maxWidth:e.breakpoints.values.xl})}}),{name:"MuiContainer"})(l)},311:function(e,t,a){"use strict";var n=a(20),s=a(21);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=s(a(0)),c=(0,n(a(22)).default)(i.createElement("path",{d:"M15.41 7.41L14 6l-6 6 6 6 1.41-1.41L10.83 12z"}),"ChevronLeft");t.default=c},318:function(e,t,a){"use strict";a.r(t);var n=a(62),s=a(0),i=a.n(s),c=a(78),r=a(296),o=a(12),d=a(23),l=a(118),u=a(121),j=a(307),b=a(107),h=a(2),p=function(){var e=Object(l.a)((function(e){return Object(u.a)({helperText:Object(n.a)({display:"flex",flexGrow:1,alignItems:"center",justifyContent:"center"},e.breakpoints.down("xs"),{display:"none"})})}))();return Object(h.jsx)(j.a,{className:e.helperText,children:Object(h.jsx)(b.a,{variant:"h4",color:"textSecondary",children:"Please click on user name to start dialog"})})},O=a(30),x=a(123),f=a(127),g=a(128),m=a(304),v=a(297),k=function(e){var t=Object(o.c)();return Object(h.jsx)("li",{style:{display:"flex",justifyContent:"center"},children:Object(h.jsx)(v.a,{variant:"outlined",color:"primary",onClick:function(){t(Object(c.d)(e.currentDialogId))},children:"More messages"})})},y=a(16),W=a(290),w=a(311),I=a.n(w),N=Object(l.a)((function(e){return Object(u.a)({goBackButtonWrapper:Object(n.a)({},e.breakpoints.up("sm"),{display:"none"})})})),M=function(){var e=Object(d.g)(),t=N();return Object(h.jsxs)("div",{className:t.goBackButtonWrapper,children:[Object(h.jsx)(W.a,{onClick:function(){e.push("/".concat(Object(y.b)(y.c.dialogs.id)))},children:Object(h.jsx)(I.a,{})}),Object(h.jsx)(r.a,{})]})},L=a(92),C=function(){return Object(h.jsxs)(L.a,{children:[Object(h.jsx)(b.a,{color:"textSecondary",variant:"h4",children:"No messages yet"}),Object(h.jsx)(b.a,{color:"textSecondary",variant:"h4",children:"send something to your opponent"})]})},S=a(76),D="70vh",G=Object(l.a)((function(e){return Object(u.a)({messages:{flexGrow:1,width:"20%",margin:e.spacing(3)}})}));var T=function(e){var t,a=e.currentDialogId,n=Object(o.d)(O.e),s=Object(o.d)(O.f),d=Object(o.d)(O.p),l=null===(t=Object(o.d)(O.q))||void 0===t?void 0:t.small,u=Object(o.d)(O.d),j=Object(o.d)(O.l),b=G(),p=Object(o.c)(),v=function(e,t){var a=e.filter((function(e){return e.id===t?e:void 0}));return a.length?a[0]:null}(s,a),y=v?v.photos.small:null;i.a.useEffect((function(){a&&v&&v.hasNewMessages&&p(c.b.chatMessagesRead(a))}),[a,p,v]);var W=n.map((function(e){var t=e.senderId===d,a=t?e.viewed?g.a.textWithOk(e.body,e.addedAt):g.a.textWithWait(e.body,e.addedAt):g.a.onlyText(e.body,e.addedAt);return Object(h.jsx)(x.a,{postId:e.id,action:a,avatar:t?l||null:y,userName:"",rightSided:t},"Message"+e.id)}));return u&&W.unshift(j?Object(h.jsx)(S.a,{}):Object(h.jsx)(k,{currentDialogId:a},"MoreMessagesButton")),Object(h.jsxs)("div",{className:b.messages,children:[Object(h.jsx)(M,{}),n.length?Object(h.jsx)(m.a,{messages:W,height:D}):j?Object(h.jsx)("div",{style:{height:D},children:Object(h.jsx)(S.a,{})}):Object(h.jsx)(C,{}),Object(h.jsx)(r.a,{}),Object(h.jsx)(f.a,{blockWidth:"52.5ch",sendMessage:c.f,buttonText:"Send",minTextLength:2})]})},R=a(125),E=a(136),B=a(287),A=Object(l.a)((function(){return Object(u.a)({dialogsItems:{height:"90vh",overflowY:"auto",flexGrow:1,"& > li > div":{flexGrow:1}}})})),z=function(e){var t=Object(o.d)(O.f),a=A(),n=t.map((function(t){var a=t.newMessagesCount>0?Object(h.jsx)(E.a,{count:t.newMessagesCount,inCorner:!0}):void 0;return Object(h.jsx)(x.a,{postId:String(t.id),avatar:t.photos.small,userName:t.userName,userId:t.id,primaryLink:t.id!==e.currentDialogId,action:a},"User"+t.id)}));return Object(h.jsx)(B.a,{className:a.dialogsItems,children:n})};t.default=Object(d.h)(Object(R.a)((function(e){var t=Object(o.d)(O.j),a=Object(o.c)(),s=e.match.params.userId?parseInt(e.match.params.userId):0,d=Object(l.a)((function(e){return Object(u.a)({dialogsWrapper:{display:"flex",margin:e.spacing(-3)},dialogs:Object(n.a)({display:"flex"},e.breakpoints.down("xs"),{display:s?"none":"flex",width:"100%"}),emptyDialogsList:{minWidth:200}})}))();return i.a.useEffect((function(){s&&(a(c.b.chatChanged(s)),a(Object(c.d)(s)))}),[s,a]),i.a.useEffect((function(){a(Object(c.c)())}),[]),Object(h.jsxs)("div",{className:d.dialogsWrapper,children:[Object(h.jsxs)("div",{className:d.dialogs,children:[t?Object(h.jsx)("div",{className:d.emptyDialogsList,children:Object(h.jsx)(S.a,{})}):Object(h.jsx)(z,{currentDialogId:s}),Object(h.jsx)(r.a,{orientation:"vertical"})]}),s?Object(h.jsx)(T,{currentDialogId:s}):Object(h.jsx)(p,{})]})})))}}]);
//# sourceMappingURL=4.96663ac1.chunk.js.map